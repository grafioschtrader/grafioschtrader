<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Thu Nov 13 05:36:51 UTC 2025 -->
<title>ReportHelper (grafioschtrader 0.33.8 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-11-13">
<meta name="description" content="declaration: package: grafioschtrader.reports, class: ReportHelper">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ReportHelper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">grafioschtrader.reports</a></div>
<h1 title="Class ReportHelper" class="title">Class ReportHelper</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">grafioschtrader.reports.ReportHelper</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">ReportHelper</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Comprehensive utility class providing specialized data loading and processing capabilities for financial reporting
 and analysis. Offers sophisticated currency conversion, historical price loading, and statistical transformation
 services for multi-currency portfolio analysis with tenant-specific optimization.
 
 <p>
 This helper class forms the foundation for financial reports by handling the intricate details of currency
 normalization, historical data retrieval, and price series transformation. It enables consistent analysis across
 different currencies, time periods, and sampling frequencies while maintaining data integrity, performance
 optimization, and tenant isolation.
 </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ReportHelper.ClosePricesCurrencyClose.html" class="type-name-link" title="class in grafioschtrader.reports">ReportHelper.ClosePricesCurrencyClose</a></code></div>
<div class="col-last even-row-color">
<div class="block">Container for loaded price data and associated currency conversion information.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="ReportHelper.CurrencyAvailableRequired.html" class="type-name-link" title="class in grafioschtrader.reports">ReportHelper.CurrencyAvailableRequired</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Represents a currency conversion requirement with associated metadata for price data loading.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ReportHelper.CurrencyRequired.html" class="type-name-link" title="class in grafioschtrader.reports">ReportHelper.CurrencyRequired</a></code></div>
<div class="col-last even-row-color">
<div class="block">Manages currency conversion requirements for multi-currency price data analysis.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ReportHelper</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#adjustCloseToSameCurrency(java.util.List,grafioschtrader.reports.ReportHelper.ClosePricesCurrencyClose)" class="member-name-link">adjustCloseToSameCurrency</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entities/Securitycurrency.html" title="class in grafioschtrader.entities">Securitycurrency</a>&lt;?&gt;&gt;&nbsp;securitycurrencyList,
 <a href="ReportHelper.ClosePricesCurrencyClose.html" title="class in grafioschtrader.reports">ReportHelper.ClosePricesCurrencyClose</a>&nbsp;cpcc)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies currency conversion to loaded price data if currency adjustment is required.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="ReportHelper.ClosePricesCurrencyClose.html" title="class in grafioschtrader.reports">ReportHelper.ClosePricesCurrencyClose</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#loadCloseData(org.springframework.jdbc.core.JdbcTemplate,grafioschtrader.repository.CurrencypairJpaRepository,java.util.List,grafioschtrader.types.SamplingPeriodType,java.time.LocalDate,java.time.LocalDate,boolean)" class="member-name-link">loadCloseData</a><wbr>(org.springframework.jdbc.core.JdbcTemplate&nbsp;jdbcTemplate,
 <a href="../repository/CurrencypairJpaRepository.html" title="interface in grafioschtrader.repository">CurrencypairJpaRepository</a>&nbsp;currencypairJpaRepository,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entities/Securitycurrency.html" title="class in grafioschtrader.entities">Securitycurrency</a>&lt;?&gt;&gt;&nbsp;securitycurrencyList,
 <a href="../types/SamplingPeriodType.html" title="enum class in grafioschtrader.types">SamplingPeriodType</a>&nbsp;samplingPeriod,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;dateFrom,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;dateTo,
 boolean&nbsp;adjustToSingleCurrency)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Loads closing price data for a list of securities, optionally adjusted into a single target currency, over a given
 date range and sampling period.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#loadUntilDateHistoryquotes(grafioschtrader.repository.HistoryquoteJpaRepository,grafioschtrader.reportviews.DateTransactionCurrencypairMap)" class="member-name-link">loadUntilDateHistoryquotes</a><wbr>(<a href="../repository/HistoryquoteJpaRepository.html" title="interface in grafioschtrader.repository">HistoryquoteJpaRepository</a>&nbsp;historyquoteJpaRepository,
 <a href="../reportviews/DateTransactionCurrencypairMap.html" title="class in grafioschtrader.reportviews">DateTransactionCurrencypairMap</a>&nbsp;dateCurrencyMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Loads tenant-specific historical exchange rate data for the specified until date if not already cached.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#loadUntilDateHistoryquotes(java.lang.Integer,grafioschtrader.repository.HistoryquoteJpaRepository,grafioschtrader.reportviews.DateTransactionCurrencypairMap)" class="member-name-link">loadUntilDateHistoryquotes</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;idTenant,
 <a href="../repository/HistoryquoteJpaRepository.html" title="interface in grafioschtrader.repository">HistoryquoteJpaRepository</a>&nbsp;historyquoteJpaRepository,
 <a href="../reportviews/DateTransactionCurrencypairMap.html" title="class in grafioschtrader.reportviews">DateTransactionCurrencypairMap</a>&nbsp;dateCurrencyMap)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Loads tenant-specific historical exchange rate data for the specified until date and tenant if not already cached.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#loadUntilDateHistoryquotesWithoutCheck(java.lang.Integer,grafioschtrader.repository.HistoryquoteJpaRepository,grafioschtrader.reportviews.DateTransactionCurrencypairMap)" class="member-name-link">loadUntilDateHistoryquotesWithoutCheck</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;idTenant,
 <a href="../repository/HistoryquoteJpaRepository.html" title="interface in grafioschtrader.repository">HistoryquoteJpaRepository</a>&nbsp;historyquoteJpaRepository,
 <a href="../reportviews/DateTransactionCurrencypairMap.html" title="class in grafioschtrader.reportviews">DateTransactionCurrencypairMap</a>&nbsp;dateCurrencyMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Forces loading of tenant-specific historical exchange rate data without checking cache status.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double[][]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#transformToPercentageChange(java.util.Map,int)" class="member-name-link">transformToPercentageChange</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>,<wbr>double[]&gt;&nbsp;closeValuesMap,
 int&nbsp;columns)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Transforms a time series of price data into percentage change data for return analysis.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ReportHelper</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ReportHelper</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="loadUntilDateHistoryquotes(grafioschtrader.repository.HistoryquoteJpaRepository,grafioschtrader.reportviews.DateTransactionCurrencypairMap)">
<h3>loadUntilDateHistoryquotes</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">loadUntilDateHistoryquotes</span><wbr><span class="parameters">(<a href="../repository/HistoryquoteJpaRepository.html" title="interface in grafioschtrader.repository">HistoryquoteJpaRepository</a>&nbsp;historyquoteJpaRepository,
 <a href="../reportviews/DateTransactionCurrencypairMap.html" title="class in grafioschtrader.reportviews">DateTransactionCurrencypairMap</a>&nbsp;dateCurrencyMap)</span></div>
<div class="block">Loads tenant-specific historical exchange rate data for the specified until date if not already cached. Uses the
 current user's tenant context to retrieve only the currency conversion data relevant to that tenant's portfolio and
 trading history.
 
 <p>
 This method implements the first tier of the two-level currency loading strategy, focusing on tenant-specific
 currency context rather than analysis-specific requirements. It loads historical exchange rates only for currencies
 that the tenant has actually used in their transactions and holdings, optimizing both performance and data
 relevance.
 </p>
 
 <p>
 The loaded currency data is cached in the DateTransactionCurrencypairMap to avoid redundant database queries and
 provide efficient access to historical conversion rates for subsequent analysis operations within the same tenant
 context.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>historyquoteJpaRepository</code> - repository for accessing historical quote data</dd>
<dd><code>dateCurrencyMap</code> - currency mapping context that tracks loaded data and conversion rates</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadUntilDateHistoryquotes(java.lang.Integer,grafioschtrader.repository.HistoryquoteJpaRepository,grafioschtrader.reportviews.DateTransactionCurrencypairMap)">
<h3>loadUntilDateHistoryquotes</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">loadUntilDateHistoryquotes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;idTenant,
 <a href="../repository/HistoryquoteJpaRepository.html" title="interface in grafioschtrader.repository">HistoryquoteJpaRepository</a>&nbsp;historyquoteJpaRepository,
 <a href="../reportviews/DateTransactionCurrencypairMap.html" title="class in grafioschtrader.reportviews">DateTransactionCurrencypairMap</a>&nbsp;dateCurrencyMap)</span></div>
<div class="block">Loads tenant-specific historical exchange rate data for the specified until date and tenant if not already cached.
 Provides tenant-isolated currency conversion data for accurate historical analysis while maintaining multi-tenant
 data separation.
 
 <p>
 This method enables loading currency data for a specific tenant without relying on the security context, making it
 suitable for batch processing, administrative operations, or cross-tenant analysis scenarios. It maintains the same
 tenant-specific optimization by loading only currencies relevant to the specified tenant's portfolio.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idTenant</code> - the tenant identifier for accessing appropriate tenant-specific currency data</dd>
<dd><code>historyquoteJpaRepository</code> - repository for accessing historical quote data</dd>
<dd><code>dateCurrencyMap</code> - currency mapping context that tracks loaded data and conversion rates</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadUntilDateHistoryquotesWithoutCheck(java.lang.Integer,grafioschtrader.repository.HistoryquoteJpaRepository,grafioschtrader.reportviews.DateTransactionCurrencypairMap)">
<h3>loadUntilDateHistoryquotesWithoutCheck</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">loadUntilDateHistoryquotesWithoutCheck</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;idTenant,
 <a href="../repository/HistoryquoteJpaRepository.html" title="interface in grafioschtrader.repository">HistoryquoteJpaRepository</a>&nbsp;historyquoteJpaRepository,
 <a href="../reportviews/DateTransactionCurrencypairMap.html" title="class in grafioschtrader.reportviews">DateTransactionCurrencypairMap</a>&nbsp;dateCurrencyMap)</span></div>
<div class="block">Forces loading of tenant-specific historical exchange rate data without checking cache status. Retrieves currency
 conversion rates for the specified date and tenant, updating the currency map with only the currencies that are
 relevant to that tenant's trading history and portfolio.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idTenant</code> - the tenant identifier for accessing tenant-specific currency usage data</dd>
<dd><code>historyquoteJpaRepository</code> - repository for accessing historical quote data</dd>
<dd><code>dateCurrencyMap</code> - currency mapping context to populate with tenant-relevant conversion rates</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadCloseData(org.springframework.jdbc.core.JdbcTemplate,grafioschtrader.repository.CurrencypairJpaRepository,java.util.List,grafioschtrader.types.SamplingPeriodType,java.time.LocalDate,java.time.LocalDate,boolean)">
<h3>loadCloseData</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="ReportHelper.ClosePricesCurrencyClose.html" title="class in grafioschtrader.reports">ReportHelper.ClosePricesCurrencyClose</a></span>&nbsp;<span class="element-name">loadCloseData</span><wbr><span class="parameters">(org.springframework.jdbc.core.JdbcTemplate&nbsp;jdbcTemplate,
 <a href="../repository/CurrencypairJpaRepository.html" title="interface in grafioschtrader.repository">CurrencypairJpaRepository</a>&nbsp;currencypairJpaRepository,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entities/Securitycurrency.html" title="class in grafioschtrader.entities">Securitycurrency</a>&lt;?&gt;&gt;&nbsp;securitycurrencyList,
 <a href="../types/SamplingPeriodType.html" title="enum class in grafioschtrader.types">SamplingPeriodType</a>&nbsp;samplingPeriod,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;dateFrom,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;dateTo,
 boolean&nbsp;adjustToSingleCurrency)</span></div>
<div class="block">Loads closing price data for a list of securities, optionally adjusted into a single target currency, over a given
 date range and sampling period. This ensures that the prices of all transferred securities are always available for
 each date.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>jdbcTemplate</code> - the Spring JDBC template to execute queries</dd>
<dd><code>currencypairJpaRepository</code> - repository to fetch currency‐pair conversion info</dd>
<dd><code>securitycurrencyList</code> - list of security‐currency entities to load</dd>
<dd><code>samplingPeriod</code> - daily, monthly, or annual sampling</dd>
<dd><code>dateFrom</code> - inclusive lower bound for dates</dd>
<dd><code>dateTo</code> - exclusive upper bound for dates</dd>
<dd><code>adjustToSingleCurrency</code> - If true, the currency pairs that allow normalization to a currency are also added
                                  to the query</dd>
<dt>Returns:</dt>
<dd>a ClosePricesCurrencyClose wrapping a date→prices map and any currency‐conversion info</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="adjustCloseToSameCurrency(java.util.List,grafioschtrader.reports.ReportHelper.ClosePricesCurrencyClose)">
<h3>adjustCloseToSameCurrency</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">adjustCloseToSameCurrency</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entities/Securitycurrency.html" title="class in grafioschtrader.entities">Securitycurrency</a>&lt;?&gt;&gt;&nbsp;securitycurrencyList,
 <a href="ReportHelper.ClosePricesCurrencyClose.html" title="class in grafioschtrader.reports">ReportHelper.ClosePricesCurrencyClose</a>&nbsp;cpcc)</span></div>
<div class="block">Applies currency conversion to loaded price data if currency adjustment is required. Convenience method that checks
 for currency adjustment requirements before processing.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>securitycurrencyList</code> - the list of securities for which prices were loaded</dd>
<dd><code>cpcc</code> - the price data container with optional currency conversion information</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transformToPercentageChange(java.util.Map,int)">
<h3>transformToPercentageChange</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double[][]</span>&nbsp;<span class="element-name">transformToPercentageChange</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>,<wbr>double[]&gt;&nbsp;closeValuesMap,
 int&nbsp;columns)</span></div>
<div class="block">Transforms a time series of price data into percentage change data for return analysis. Calculates
 period-over-period percentage changes for statistical and performance analysis.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>closeValuesMap</code> - chronologically ordered map of price data by date</dd>
<dd><code>columns</code> - number of securities/instruments in the price series</dd>
<dt>Returns:</dt>
<dd>two-dimensional array of percentage changes with rows representing time periods and columns representing
         securities</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 grafioschtrader. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
