<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Wed Jul 02 15:01:09 UTC 2025 -->
<title>PeriodWindow (grafioschtrader 0.33.7 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-07-02">
<meta name="description" content="declaration: package: grafioschtrader.reportviews.performance, class: PeriodWindow">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PeriodWindow.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">grafioschtrader.reportviews.performance</a></div>
<h1 title="Class PeriodWindow" class="title">Class PeriodWindow</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">grafioschtrader.reportviews.performance.PeriodWindow</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PeriodWindow</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Represents a structured time window for performance analysis, typically spanning a single year or week.
 
 <p>
 This class organizes performance data into structured time periods, containing individual period steps
 that represent days (for weekly windows) or months (for yearly windows). Each window provides aggregated
 performance metrics and detailed breakdowns for comprehensive analysis and reporting.
 </p>
 
 <p>
 The window structure supports:
 </p>
 <ul>
 <li>Weekly analysis with 5 daily period steps (Monday to Friday)</li>
 <li>Yearly analysis with 12 monthly period steps (January to December)</li>
 <li>Holiday and missing data tracking within each period step</li>
 <li>Automatic gain calculation and aggregation across all steps</li>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></code></div>
<div class="col-second even-row-color"><code><a href="#endDate" class="member-name-link">endDate</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a></code></div>
<div class="col-second odd-row-color"><code><a href="#gainPeriodMC" class="member-name-link">gainPeriodMC</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="PeriodStepMissingHoliday.html" title="class in grafioschtrader.reportviews.performance">PeriodStepMissingHoliday</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#periodStepList" class="member-name-link">periodStepList</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></code></div>
<div class="col-second odd-row-color"><code><a href="#startDate" class="member-name-link">startDate</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(grafioschtrader.reportviews.performance.WeekYear,java.time.LocalDate,java.time.LocalDate)" class="member-name-link">PeriodWindow</a><wbr>(<a href="WeekYear.html" title="enum class in grafioschtrader.reportviews.performance">WeekYear</a>&nbsp;weekYear,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;startDate,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;endDate)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a new period window with the specified time boundaries and aggregation level.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPeriodStep(grafioschtrader.reportviews.performance.WeekYear,java.time.LocalDate,double,double,double,double,double,double,int)" class="member-name-link">addPeriodStep</a><wbr>(<a href="WeekYear.html" title="enum class in grafioschtrader.reportviews.performance">WeekYear</a>&nbsp;weekYear,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;localDate,
 double&nbsp;externalCashTransferMC,
 double&nbsp;gainMC,
 double&nbsp;marginCloseGainMC,
 double&nbsp;cashBalanceMC,
 double&nbsp;securitiesMC,
 double&nbsp;totalBalanceMC,
 int&nbsp;missingDayCount)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a trading period step with complete financial performance data at the appropriate position.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPeriodStepHolidayMissing(grafioschtrader.reportviews.performance.WeekYear,java.time.LocalDate,grafioschtrader.reportviews.performance.HolidayMissing)" class="member-name-link">addPeriodStepHolidayMissing</a><wbr>(<a href="WeekYear.html" title="enum class in grafioschtrader.reportviews.performance">WeekYear</a>&nbsp;weekYear,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;localDate,
 <a href="HolidayMissing.html" title="enum class in grafioschtrader.reportviews.performance">HolidayMissing</a>&nbsp;holidayMissing)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adds a holiday or missing data period step at the appropriate position within the window.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fillMissinGainPeriodMCByPeriodStep()" class="member-name-link">fillMissinGainPeriodMCByPeriodStep</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates and sets the total period gain by aggregating gains from all trading period steps.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="startDate">
<h3>startDate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></span>&nbsp;<span class="element-name">startDate</span></div>
</section>
</li>
<li>
<section class="detail" id="endDate">
<h3>endDate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></span>&nbsp;<span class="element-name">endDate</span></div>
</section>
</li>
<li>
<section class="detail" id="gainPeriodMC">
<h3>gainPeriodMC</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a></span>&nbsp;<span class="element-name">gainPeriodMC</span></div>
</section>
</li>
<li>
<section class="detail" id="periodStepList">
<h3>periodStepList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="PeriodStepMissingHoliday.html" title="class in grafioschtrader.reportviews.performance">PeriodStepMissingHoliday</a>&gt;</span>&nbsp;<span class="element-name">periodStepList</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(grafioschtrader.reportviews.performance.WeekYear,java.time.LocalDate,java.time.LocalDate)">
<h3>PeriodWindow</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PeriodWindow</span><wbr><span class="parameters">(<a href="WeekYear.html" title="enum class in grafioschtrader.reportviews.performance">WeekYear</a>&nbsp;weekYear,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;startDate,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;endDate)</span></div>
<div class="block">Constructs a new period window with the specified time boundaries and aggregation level.
 
 <p>
 Initializes the period step list with the appropriate number of empty steps based on the aggregation level: 5 steps
 for weekly analysis (representing trading days Monday-Friday) or 12 steps for yearly analysis (representing months
 January-December).
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>weekYear</code> - the aggregation level determining the number and type of period steps</dd>
<dd><code>startDate</code> - the start date of this performance window</dd>
<dd><code>endDate</code> - the end date of this performance window</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addPeriodStep(grafioschtrader.reportviews.performance.WeekYear,java.time.LocalDate,double,double,double,double,double,double,int)">
<h3>addPeriodStep</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addPeriodStep</span><wbr><span class="parameters">(<a href="WeekYear.html" title="enum class in grafioschtrader.reportviews.performance">WeekYear</a>&nbsp;weekYear,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;localDate,
 double&nbsp;externalCashTransferMC,
 double&nbsp;gainMC,
 double&nbsp;marginCloseGainMC,
 double&nbsp;cashBalanceMC,
 double&nbsp;securitiesMC,
 double&nbsp;totalBalanceMC,
 int&nbsp;missingDayCount)</span></div>
<div class="block">Adds a trading period step with complete financial performance data at the appropriate position.
 
 <p>
 Calculates the correct offset within the period step list based on the aggregation level:
 </p>
 <ul>
 <li>For weekly analysis: offset = days between start date and step date</li>
 <li>For yearly analysis: offset = months between start date and step date</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>weekYear</code> - the aggregation level for offset calculation</dd>
<dd><code>localDate</code> - the date of this period step</dd>
<dd><code>externalCashTransferMC</code> - external cash transfers in main currency</dd>
<dd><code>gainMC</code> - investment gains in main currency</dd>
<dd><code>marginCloseGainMC</code> - realized margin gains in main currency</dd>
<dd><code>cashBalanceMC</code> - total cash balance in main currency</dd>
<dd><code>securitiesMC</code> - securities market value in main currency</dd>
<dd><code>totalBalanceMC</code> - total portfolio balance in main currency</dd>
<dd><code>missingDayCount</code> - number of days with missing data in this step</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addPeriodStepHolidayMissing(grafioschtrader.reportviews.performance.WeekYear,java.time.LocalDate,grafioschtrader.reportviews.performance.HolidayMissing)">
<h3>addPeriodStepHolidayMissing</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addPeriodStepHolidayMissing</span><wbr><span class="parameters">(<a href="WeekYear.html" title="enum class in grafioschtrader.reportviews.performance">WeekYear</a>&nbsp;weekYear,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;localDate,
 <a href="HolidayMissing.html" title="enum class in grafioschtrader.reportviews.performance">HolidayMissing</a>&nbsp;holidayMissing)</span></div>
<div class="block">Adds a holiday or missing data period step at the appropriate position within the window.
 
 <p>
 Only processes weekly aggregation periods, as holiday tracking is more granular and relevant for daily analysis.
 For yearly aggregation, holidays are typically aggregated within monthly summaries.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>weekYear</code> - the aggregation level (only processes WM_WEEK)</dd>
<dd><code>localDate</code> - the date of the holiday or missing data</dd>
<dd><code>holidayMissing</code> - the classification of this non-trading period</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fillMissinGainPeriodMCByPeriodStep()">
<h3>fillMissinGainPeriodMCByPeriodStep</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">fillMissinGainPeriodMCByPeriodStep</span>()</div>
<div class="block">Calculates and sets the total period gain by aggregating gains from all trading period steps.
 
 <p>
 This method is called when the period gain has not been calculated through other means. It iterates through all
 period steps, identifies trading days (PeriodStep instances), and sums their individual gains to produce the total
 period performance.
 </p>
 
 <p>
 The calculation only considers actual trading period steps and ignores holidays or missing data steps to ensure
 accurate performance measurement.
 </p></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 grafioschtrader. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
