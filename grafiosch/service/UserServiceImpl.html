<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Wed Jul 02 15:01:09 UTC 2025 -->
<title>UserServiceImpl (grafioschtrader 0.33.7 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-07-02">
<meta name="description" content="declaration: package: grafiosch.service, class: UserServiceImpl">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/UserServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">grafiosch.service</a></div>
<h1 title="Class UserServiceImpl" class="title">Class UserServiceImpl</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">grafiosch.service.UserServiceImpl</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code>, <code>org.springframework.security.core.userdetails.UserDetailsService</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Service
</span><span class="modifiers">public class </span><span class="element-name type-name-label">UserServiceImpl</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="UserService.html" title="interface in grafiosch.service">UserService</a></span></div>
<div class="block">Comprehensive implementation of user management and authentication services.
 
 <p>This service class provides a complete implementation of the UserService interface,
 handling all aspects of user lifecycle management from registration through authentication
 to profile maintenance. It integrates Spring Security authentication with custom business
 logic for user limits, security monitoring, and administrative features.</p>
 
 <h3 id="administrative-features--heading">Administrative Features:</h3>
 <ul>
   <li><strong>Main Admin Detection:</strong> Automatic identification and role assignment
       for the primary administrator account</li>
   <li><strong>User Limit Enforcement:</strong> Configurable limits on total active users
       to manage system resources and licensing</li>
   <li><strong>Data Migration Support:</strong> Automated task scheduling for admin account
       data consolidation and ownership transfer</li>
 </ul>
 
 <h3 id="security-architecture--heading">Security Architecture:</h3>
 <p>Implements a comprehensive security model with password encryption using BCrypt,
 configurable password policies, demo account protection, and detailed violation tracking
 for monitoring and automated security responses.</p>
 
 <h3 id="internationalization-support--heading">Internationalization Support:</h3>
 <p>Full support for multi-language environments with locale-aware messaging, timezone
 handling, and user preference management for consistent international user experiences.</p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(grafiosch.repository.UserJpaRepository,grafiosch.repository.RoleJpaRepository,org.springframework.context.MessageSource,grafiosch.repository.GlobalparametersJpaRepository,grafiosch.repository.TaskDataChangeJpaRepository)" class="member-name-link">UserServiceImpl</a><wbr>(<a href="../repository/UserJpaRepository.html" title="interface in grafiosch.repository">UserJpaRepository</a>&nbsp;userJpaRepository,
 <a href="../repository/RoleJpaRepository.html" title="interface in grafiosch.repository">RoleJpaRepository</a>&nbsp;roleJpaRepository,
 org.springframework.context.MessageSource&nbsp;messages,
 <a href="../repository/GlobalparametersJpaRepository.html" title="interface in grafiosch.repository">GlobalparametersJpaRepository</a>&nbsp;globalparametersJpaRepository,
 <a href="../repository/TaskDataChangeJpaRepository.html" title="interface in grafiosch.repository">TaskDataChangeJpaRepository</a>&nbsp;taskDataChangeJpaRepository)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entities/projection/SuccessfullyChanged.html" title="class in grafiosch.entities.projection">SuccessfullyChanged</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#changePassword(grafiosch.dto.ChangePasswordDTO)" class="member-name-link">changePassword</a><wbr>(<a href="../dto/ChangePasswordDTO.html" title="class in grafiosch.dto">ChangePasswordDTO</a>&nbsp;changePasswordDTO)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Changes a user's password with security validation and demo account protection.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkUserLimits(grafiosch.entities.User)" class="member-name-link">checkUserLimits</a><wbr>(<a href="../entities/User.html" title="class in grafiosch.entities">User</a>&nbsp;user)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Validates that a user has not exceeded configured security and usage limits.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entities/User.html" title="class in grafiosch.entities">User</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createUser(grafiosch.dto.UserDTO)" class="member-name-link">createUser</a><wbr>(<a href="../dto/UserDTO.html" title="class in grafiosch.dto">UserDTO</a>&nbsp;userDTO)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new user account with basic profile information.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entities/User.html" title="class in grafiosch.entities">User</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createUserForVerification(grafiosch.dto.UserDTO,java.lang.String)" class="member-name-link">createUserForVerification</a><wbr>(<a href="../dto/UserDTO.html" title="class in grafiosch.dto">UserDTO</a>&nbsp;userDTO,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;hostNameAndBaseName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new user account with email verification workflow.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="../entities/User.html" title="class in grafiosch.entities">User</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findUser(java.lang.Integer)" class="member-name-link">findUser</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entities/User.html" title="class in grafiosch.entities">User</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#incrementRightsLimitCount(java.lang.Integer,grafiosch.types.UserRightLimitCounter)" class="member-name-link">incrementRightsLimitCount</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;userId,
 <a href="../types/UserRightLimitCounter.html" title="enum class in grafiosch.types">UserRightLimitCounter</a>&nbsp;userRightLimitCounter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Increments violation counters for security monitoring and limit enforcement.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isPasswordAccepted(java.lang.String)" class="member-name-link">isPasswordAccepted</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Validates a password against configured security policies and requirements.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.security.core.userdetails.UserDetails</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadUserByUserIdAndCheckUsername(java.lang.Integer,java.lang.String)" class="member-name-link">loadUserByUserIdAndCheckUsername</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;idUser,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Loads user details by ID with additional username verification for JWT token validation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.security.core.userdetails.UserDetails</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadUserByUsername(java.lang.String)" class="member-name-link">loadUserByUsername</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">It is called with every request!</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entities/projection/SuccessfullyChanged.html" title="class in grafiosch.entities.projection">SuccessfullyChanged</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateNicknameLocal(grafiosch.entities.projection.UserOwnProjection)" class="member-name-link">updateNicknameLocal</a><wbr>(<a href="../entities/projection/UserOwnProjection.html" title="class in grafiosch.entities.projection">UserOwnProjection</a>&nbsp;userOwnProjection)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates user locale preferences and nickname with comprehensive profile management.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entities/User.html" title="class in grafiosch.entities">User</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateTimezoneOffset(grafiosch.entities.User,java.lang.Integer)" class="member-name-link">updateTimezoneOffset</a><wbr>(<a href="../entities/User.html" title="class in grafiosch.entities">User</a>&nbsp;user,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;timezoneOffset)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates a user's timezone offset preference.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(grafiosch.repository.UserJpaRepository,grafiosch.repository.RoleJpaRepository,org.springframework.context.MessageSource,grafiosch.repository.GlobalparametersJpaRepository,grafiosch.repository.TaskDataChangeJpaRepository)">
<h3>UserServiceImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">UserServiceImpl</span><wbr><span class="parameters">(<a href="../repository/UserJpaRepository.html" title="interface in grafiosch.repository">UserJpaRepository</a>&nbsp;userJpaRepository,
 <a href="../repository/RoleJpaRepository.html" title="interface in grafiosch.repository">RoleJpaRepository</a>&nbsp;roleJpaRepository,
 org.springframework.context.MessageSource&nbsp;messages,
 <a href="../repository/GlobalparametersJpaRepository.html" title="interface in grafiosch.repository">GlobalparametersJpaRepository</a>&nbsp;globalparametersJpaRepository,
 <a href="../repository/TaskDataChangeJpaRepository.html" title="interface in grafiosch.repository">TaskDataChangeJpaRepository</a>&nbsp;taskDataChangeJpaRepository)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="loadUserByUsername(java.lang.String)">
<h3>loadUserByUsername</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.security.core.userdetails.UserDetails</span>&nbsp;<span class="element-name">loadUserByUsername</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</span>
                                                                             throws <span class="exceptions">org.springframework.security.core.userdetails.UsernameNotFoundException</span></div>
<div class="block">It is called with every request!</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>loadUserByUsername</code>&nbsp;in interface&nbsp;<code>org.springframework.security.core.userdetails.UserDetailsService</code></dd>
<dt>Throws:</dt>
<dd><code>org.springframework.security.core.userdetails.UsernameNotFoundException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadUserByUserIdAndCheckUsername(java.lang.Integer,java.lang.String)">
<h3>loadUserByUserIdAndCheckUsername</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.security.core.userdetails.UserDetails</span>&nbsp;<span class="element-name">loadUserByUserIdAndCheckUsername</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;idUser,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#loadUserByUserIdAndCheckUsername(java.lang.Integer,java.lang.String)">UserService</a></code></span></div>
<div class="block">Loads user details by ID with additional username verification for JWT token validation.
 
 <p>This method provides enhanced user loading functionality specifically designed for
 JWT token validation workflows. It combines user ID lookup with username verification
 to ensure token integrity and prevent token manipulation attacks.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#loadUserByUserIdAndCheckUsername(java.lang.Integer,java.lang.String)">loadUserByUserIdAndCheckUsername</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>idUser</code> - the user ID extracted from the JWT token</dd>
<dd><code>username</code> - the username extracted from the JWT token for verification</dd>
<dt>Returns:</dt>
<dd>UserDetails object for the validated user</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkUserLimits(grafiosch.entities.User)">
<h3>checkUserLimits</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkUserLimits</span><wbr><span class="parameters">(<a href="../entities/User.html" title="class in grafiosch.entities">User</a>&nbsp;user)</span>
                     throws <span class="exceptions"><a href="../exceptions/RequestLimitAndSecurityBreachException.html" title="class in grafiosch.exceptions">RequestLimitAndSecurityBreachException</a></span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#checkUserLimits(grafiosch.entities.User)">UserService</a></code></span></div>
<div class="block">Validates that a user has not exceeded configured security and usage limits.
 
 <p>This method enforces application-wide security policies by checking user-specific
 limits for various violation types. If limits are exceeded, appropriate exceptions
 are thrown to prevent further access and trigger security responses.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#checkUserLimits(grafiosch.entities.User)">checkUserLimits</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>user</code> - the User entity to validate against configured limits</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RequestLimitAndSecurityBreachException.html" title="class in grafiosch.exceptions">RequestLimitAndSecurityBreachException</a></code> - if any limits are exceeded</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findUser(java.lang.Integer)">
<h3>findUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../entities/User.html" title="class in grafiosch.entities">User</a>&gt;</span>&nbsp;<span class="element-name">findUser</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;id)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#findUser(java.lang.Integer)">findUser</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createUserForVerification(grafiosch.dto.UserDTO,java.lang.String)">
<h3>createUserForVerification</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entities/User.html" title="class in grafiosch.entities">User</a></span>&nbsp;<span class="element-name">createUserForVerification</span><wbr><span class="parameters">(<a href="../dto/UserDTO.html" title="class in grafiosch.dto">UserDTO</a>&nbsp;userDTO,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;hostNameAndBaseName)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#createUserForVerification(grafiosch.dto.UserDTO,java.lang.String)">UserService</a></code></span></div>
<div class="block">Creates a new user account with email verification workflow.
 
 <p>This method implements the complete user registration process including account
 creation, verification email generation, and email delivery. It handles all aspects
 of secure user onboarding with email-based account verification.</p>
 
 <p><strong>Registration Workflow:</strong></p>
 <ol>
   <li>Validates user data against application limits and constraints</li>
   <li>Checks for duplicate email addresses and usernames</li>
   <li>Creates user account with encrypted credentials</li>
   <li>Generates unique verification token</li>
   <li>Sends verification email with activation link</li>
 </ol>
 
 <p><strong>Security Features:</strong></p>
 <ul>
   <li>User limit validation to prevent system abuse</li>
   <li>Duplicate detection for email addresses and nicknames</li>
   <li>Password policy enforcement</li>
   <li>Secure token generation for email verification</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#createUserForVerification(grafiosch.dto.UserDTO,java.lang.String)">createUserForVerification</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>userDTO</code> - user registration data containing credentials and profile information</dd>
<dd><code>hostNameAndBaseName</code> - hostname and base path for verification link generation</dd>
<dt>Returns:</dt>
<dd>newly created User entity with verification status</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - if registration validation fails or email delivery encounters errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createUser(grafiosch.dto.UserDTO)">
<h3>createUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entities/User.html" title="class in grafiosch.entities">User</a></span>&nbsp;<span class="element-name">createUser</span><wbr><span class="parameters">(<a href="../dto/UserDTO.html" title="class in grafiosch.dto">UserDTO</a>&nbsp;userDTO)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#createUser(grafiosch.dto.UserDTO)">UserService</a></code></span></div>
<div class="block">Creates a new user account with basic profile information.
 
 <p>This method handles the core user creation process including password encryption,
 role assignment, and initial account setup. It is typically used as part of the
 registration workflow after validation and verification processes.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#createUser(grafiosch.dto.UserDTO)">createUser</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>userDTO</code> - data transfer object containing user creation information</dd>
<dt>Returns:</dt>
<dd>newly created User entity with generated identifiers and encrypted credentials</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateTimezoneOffset(grafiosch.entities.User,java.lang.Integer)">
<h3>updateTimezoneOffset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entities/User.html" title="class in grafiosch.entities">User</a></span>&nbsp;<span class="element-name">updateTimezoneOffset</span><wbr><span class="parameters">(<a href="../entities/User.html" title="class in grafiosch.entities">User</a>&nbsp;user,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;timezoneOffset)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#updateTimezoneOffset(grafiosch.entities.User,java.lang.Integer)">UserService</a></code></span></div>
<div class="block">Updates a user's timezone offset preference.
 
 <p>This method handles timezone preference updates to ensure that user interfaces
 and data display are properly localized to the user's current timezone. The
 timezone offset is typically updated during login when client timezone information
 is available.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#updateTimezoneOffset(grafiosch.entities.User,java.lang.Integer)">updateTimezoneOffset</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>user</code> - the User entity to update</dd>
<dd><code>timezoneOffset</code> - timezone offset in minutes from UTC</dd>
<dt>Returns:</dt>
<dd>updated User entity with the new timezone preference</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateNicknameLocal(grafiosch.entities.projection.UserOwnProjection)">
<h3>updateNicknameLocal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entities/projection/SuccessfullyChanged.html" title="class in grafiosch.entities.projection">SuccessfullyChanged</a></span>&nbsp;<span class="element-name">updateNicknameLocal</span><wbr><span class="parameters">(<a href="../entities/projection/UserOwnProjection.html" title="class in grafiosch.entities.projection">UserOwnProjection</a>&nbsp;userOwnProjection)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#updateNicknameLocal(grafiosch.entities.projection.UserOwnProjection)">UserService</a></code></span></div>
<div class="block">Updates user locale preferences and nickname with comprehensive profile management.
 
 <p>This method handles localized profile updates for the currently authenticated user,
 including nickname changes, locale preferences, and UI customization settings. It
 ensures that user preferences are properly validated and persisted for consistent
 application behavior.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#updateNicknameLocal(grafiosch.entities.projection.UserOwnProjection)">updateNicknameLocal</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>userOwnProjection</code> - projection containing the profile updates to apply</dd>
<dt>Returns:</dt>
<dd>SuccessfullyChanged object with success status and localized confirmation message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="changePassword(grafiosch.dto.ChangePasswordDTO)">
<h3>changePassword</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entities/projection/SuccessfullyChanged.html" title="class in grafiosch.entities.projection">SuccessfullyChanged</a></span>&nbsp;<span class="element-name">changePassword</span><wbr><span class="parameters">(<a href="../dto/ChangePasswordDTO.html" title="class in grafiosch.dto">ChangePasswordDTO</a>&nbsp;changePasswordDTO)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#changePassword(grafiosch.dto.ChangePasswordDTO)">UserService</a></code></span></div>
<div class="block">Changes a user's password with security validation and demo account protection.
 
 <p>This method implements secure password change functionality with comprehensive
 validation including old password verification, new password policy compliance,
 and demo account protection. It ensures that password changes maintain security
 standards while preventing unauthorized modifications.</p>
 
 <p><strong>Security Validation:</strong></p>
 <ol>
   <li>Verifies the current password matches the stored encrypted password</li>
   <li>Validates new password against configured complexity requirements</li>
   <li>Checks for demo account restrictions to prevent demo account modifications</li>
   <li>Encrypts and stores the new password securely</li>
 </ol>
 
 <p><strong>Demo Account Protection:</strong></p>
 <p>The method includes protection against password changes on demonstration accounts
 to maintain demo environment integrity and prevent security exposure.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#changePassword(grafiosch.dto.ChangePasswordDTO)">changePassword</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Returns:</dt>
<dd>SuccessfullyChanged object with success status and localized confirmation message</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - if password validation fails, old password is incorrect, or demo account restrictions apply</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isPasswordAccepted(java.lang.String)">
<h3>isPasswordAccepted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPasswordAccepted</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#isPasswordAccepted(java.lang.String)">UserService</a></code></span></div>
<div class="block">Validates a password against configured security policies and requirements.
 
 <p>This method checks whether a provided password meets the application's security
 requirements including complexity rules, length requirements, and pattern matching.
 It supports configurable password policies that can be adjusted based on security needs.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#isPasswordAccepted(java.lang.String)">isPasswordAccepted</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>password</code> - the password string to validate against security policies</dd>
<dt>Returns:</dt>
<dd>true if the password meets all requirements, false if it fails validation</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - if password validation processing encounters errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="incrementRightsLimitCount(java.lang.Integer,grafiosch.types.UserRightLimitCounter)">
<h3>incrementRightsLimitCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entities/User.html" title="class in grafiosch.entities">User</a></span>&nbsp;<span class="element-name">incrementRightsLimitCount</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;userId,
 <a href="../types/UserRightLimitCounter.html" title="enum class in grafiosch.types">UserRightLimitCounter</a>&nbsp;userRightLimitCounter)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="UserService.html#incrementRightsLimitCount(java.lang.Integer,grafiosch.types.UserRightLimitCounter)">UserService</a></code></span></div>
<div class="block">Increments violation counters for security monitoring and limit enforcement.
 
 <p>This method tracks various types of user violations and security breaches to
 maintain application security and enable automated protective responses. Different
 violation types are tracked separately to provide granular security monitoring.</p>
 
 <p><strong>Tracked Violation Types:</strong></p>
 <ul>
   <li><strong>Security Breaches:</strong> Authentication failures, suspicious activities, policy violations</li>
   <li><strong>Request Limit Violations:</strong> API rate limit exceeding, resource abuse</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="UserService.html#incrementRightsLimitCount(java.lang.Integer,grafiosch.types.UserRightLimitCounter)">incrementRightsLimitCount</a></code>&nbsp;in interface&nbsp;<code><a href="UserService.html" title="interface in grafiosch.service">UserService</a></code></dd>
<dt>Parameters:</dt>
<dd><code>userId</code> - unique identifier of the user for whom to increment violation counts</dd>
<dd><code>userRightLimitCounter</code> - enumeration specifying the type of violation to record</dd>
<dt>Returns:</dt>
<dd>updated User entity with incremented violation counters</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 grafioschtrader. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
